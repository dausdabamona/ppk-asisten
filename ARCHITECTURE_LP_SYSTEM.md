# ğŸ¨ VISUAL ARCHITECTURE - LEMBAR PERMINTAAN SYSTEM

---

## ğŸ“Š SYSTEM ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     USER INTERFACE LAYER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ LembarPermintaanFormView â”‚     â”‚   LPTableFormCard.vue    â”‚   â”‚
â”‚  â”‚  (Multi-Item Form)      â”‚     â”‚   (LP Display Card)      â”‚   â”‚
â”‚  â”‚                         â”‚     â”‚                          â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚ Header & Badges    â”‚ â”‚     â”‚ â”‚ Header + Status     â”‚ â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚ Form Section       â”‚ â”‚     â”‚ â”‚ Metrics Grid        â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ - Unit dropdown    â”‚ â”‚     â”‚ â”‚ - Value, Tier,      â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ - Date picker      â”‚ â”‚     â”‚ â”‚   Items, Date       â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ - NIP input        â”‚ â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ â”‚ - Description      â”‚ â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚ â”‚ Items Preview       â”‚ â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ â”‚ Items Table (8 col)â”‚ â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚ - No, Deskripsi    â”‚ â”‚     â”‚ â”‚ Tier Breakdown      â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ - Qty, Unit        â”‚ â”‚     â”‚ â”‚ - Tier 1, 2, 3      â”‚ â”‚   â”‚
â”‚  â”‚ â”‚ - Est.Harga, Total â”‚ â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ â”‚ - Tier, Aksi       â”‚ â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚ - Dynamic rows     â”‚ â”‚     â”‚ â”‚ Action Buttons      â”‚ â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚ â”‚ - View, Edit, etc   â”‚ â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ â”‚ Budget Summary      â”‚ â”‚     â”‚                          â”‚   â”‚
â”‚  â”‚ â”‚ - 4 cards (T1,T2,T3â”‚ â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚ â”‚ - Grand Total       â”‚ â”‚                                     â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     Used in: LP List View          â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                     â”‚
â”‚  â”‚ â”‚ Form Actions        â”‚ â”‚                                     â”‚
â”‚  â”‚ â”‚ - Simpan Draft      â”‚ â”‚                                     â”‚
â”‚  â”‚ â”‚ - Ajukan LP         â”‚ â”‚                                     â”‚
â”‚  â”‚ â”‚ - Kembali           â”‚ â”‚                                     â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                     â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                     â”‚
â”‚  â”‚ â”‚ Validation Errors   â”‚ â”‚                                     â”‚
â”‚  â”‚ â”‚ (if invalid)        â”‚ â”‚                                     â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BUSINESS LOGIC LAYER                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  lpFormIntegration.js (Helper Functions)                â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Data Conversion & Formatting                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ convertFormToStoreFormat()                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ generateLPId() â†’ LP-{timestamp}              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ generateLPNomor() â†’ LP/YYYY/MM/XXXX          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ formatCurrency(), formatDate()               â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Data Persistence                                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ saveLPToLocalStorage()                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ loadLPFromLocalStorage()                      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ getAllLPsFromLocalStorage()                   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Data Auto-Detection                              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ getTierKey() â†’ "Tier 1" â†’ "TIER1"             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ detectJenis() â†’ "BARANG" or "JASA"            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ getStatusLabel(), getStatusColor()            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Import/Export (Future)                           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ exportLPAsJSON()                              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ importLPFromJSON()                            â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA STORAGE LAYER                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ localStorage                                            â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ppk_lp_{lpId}                                         â”‚   â”‚
â”‚  â”‚  â”œâ”€ id: "LP-1707292583445"                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ nomor: "LP/2026/02/0147"                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ jenis: "BARANG"                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ status: "DIAJUKAN"                               â”‚   â”‚
â”‚  â”‚  â”œâ”€ unit_pengajuan: "Fakultas Teknik"                â”‚   â”‚
â”‚  â”‚  â”œâ”€ total_nilai: 76000000                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ tier: "TIER3"                                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ items_count: 4                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ table_items: [ {...}, {...}, ... ]              â”‚   â”‚
â”‚  â”‚  â”œâ”€ tier_summary: { tier1: 11M, tier2: 17M, tier3: 45M }  â”‚   â”‚
â”‚  â”‚  â”œâ”€ created_at: "2026-02-07T13:30:00Z"              â”‚   â”‚
â”‚  â”‚  â””â”€ updated_at: "2026-02-07T13:30:00Z"              â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ppk_lp_list                                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ { id: "LP-1707...", nomor: "LP/2026...", ... }  â”‚   â”‚
â”‚  â”‚  â”œâ”€ { id: "LP-1707...", nomor: "LP/2026...", ... }  â”‚   â”‚
â”‚  â”‚  â””â”€ ... more LP references                           â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  ppk_lp_draft_{lpId}                                 â”‚   â”‚
â”‚  â”‚  â””â”€ { same structure, status: "DRAFT" }             â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Pinia Store (useLembarPermintaanStore)                â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  State:                                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ lpList: [...]                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ currentLP: {...}                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ lpItems: [...]                                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ loading: boolean                                  â”‚   â”‚
â”‚  â”‚  â””â”€ error: string                                     â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  Getters:                                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ lpByStatus                                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ lpBarang, lpJasa, lpPJLP, lpKegiatan             â”‚   â”‚
â”‚  â”‚  â”œâ”€ totalNilaiLP                                      â”‚   â”‚
â”‚  â”‚  â””â”€ ... more computed properties                      â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  Actions:                                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ fetchLPList()                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ addLP()                                           â”‚   â”‚
â”‚  â”‚  â”œâ”€ updateLP()                                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ deleteLP()                                        â”‚   â”‚
â”‚  â”‚  â””â”€ ... more CRUD operations                          â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ DATA TRANSFORMATION FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Form Input (Raw User Data)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ unit_name: "Fakultas Teknik"    â”‚
â”‚ request_date: "2026-02-07"      â”‚
â”‚ responsible_nip: "1978..."      â”‚
â”‚ description: "Upgrade network" â”‚
â”‚ items: [                        â”‚
â”‚   {                             â”‚
â”‚     description: "Switch",      â”‚
â”‚     qty: 2,                     â”‚
â”‚     unit: "Unit",               â”‚
â”‚     estimate_price: 8500000,    â”‚
â”‚     tier: "Tier 2"  â† Auto     â”‚
â”‚   },                            â”‚
â”‚   ...                           â”‚
â”‚ ]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ convertFormToStoreFormat()
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Store Format (Normalized Data) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: "LP-1707292583445"          â”‚
â”‚ nomor: "LP/2026/02/0147"        â”‚
â”‚ jenis: "BARANG" â† Auto-detected â”‚
â”‚ status: "DIAJUKAN" â† Normalized â”‚
â”‚ unit_pengajuan: "Fakultas..."   â”‚
â”‚ total_nilai: 76000000           â”‚
â”‚ tier: "TIER3" â† Calculated      â”‚
â”‚ metode_pengadaan: "Tender/..."  â”‚
â”‚ items_count: 3                  â”‚
â”‚ items_breakdown: {              â”‚
â”‚   TIER1: 1,                     â”‚
â”‚   TIER2: 1,                     â”‚
â”‚   TIER3: 1                      â”‚
â”‚ }                               â”‚
â”‚ table_items: [...]  â† Preserved â”‚
â”‚ tier_summary: {                 â”‚
â”‚   tier1: 11000000,              â”‚
â”‚   tier2: 17000000,              â”‚
â”‚   tier3: 45000000               â”‚
â”‚ }                               â”‚
â”‚ created_at: "2026-02-07T..."    â”‚
â”‚ updated_at: "2026-02-07T..."    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â†’ saveLPToLocalStorage()
             â”‚   â””â”€â†’ localStorage[ppk_lp_{id}]
             â”‚
             â”œâ”€â†’ lpStore.addLP()
             â”‚   â””â”€â†’ Pinia Store
             â”‚
             â””â”€â†’ Display in List
                 â””â”€â†’ LPTableFormCard.vue
```

---

## ğŸ¯ AUTO-TIER DETECTION LOGIC

```
For each item:
  item_total = qty Ã— estimate_price
  
  if item_total < 10,000,000
    tier = "Tier 1" (Blue) ğŸ”µ
  
  else if item_total < 50,000,000
    tier = "Tier 2" (Yellow) ğŸŸ¡
  
  else
    tier = "Tier 3" (Red) ğŸ”´

Overall LP tier = based on total_nilai:
  
  if total < 10,000,000
    tier = "TIER1"
    metode_pengadaan = "Pembelian Langsung"
  
  else if total < 50,000,000
    tier = "TIER2"
    metode_pengadaan = "Pengadaan Langsung"
  
  else
    tier = "TIER3"
    metode_pengadaan = "Tender/Seleksi"
```

### Example Calculation:

```
Item 1: 2 Ã— Rp 8,500,000 = Rp 17,000,000 â†’ Tier 2
Item 2: 5 Ã— Rp 1,500,000 = Rp  7,500,000 â†’ Tier 1
Item 3: 1 Ã— Rp 45,000,000 = Rp 45,000,000 â†’ Tier 3
                            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                            Rp 69,500,000   â†’ TIER3

Budget Summary:
â”œâ”€ Tier 1: Rp 7,500,000 (1 item)
â”œâ”€ Tier 2: Rp 17,000,000 (1 item)
â””â”€ Tier 3: Rp 45,000,000 (1 item)
```

---

## ğŸ“‹ COMPONENT INTERACTION DIAGRAM

```
                    Router
                      â”‚
        /#/transaksi/lp/tambah
                      â”‚
                      â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LembarPermintaanFormView.vue         â”‚
    â”‚ (Main Form Component)                â”‚
    â”‚                                     â”‚
    â”‚ Methods:                            â”‚
    â”‚  â€¢ updateItemTier()                 â”‚
    â”‚  â€¢ addItemRow()                     â”‚
    â”‚  â€¢ removeItem()                     â”‚
    â”‚  â€¢ saveDraft()                      â”‚
    â”‚  â€¢ submitLP()  â†â”€â”                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ import
                      â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ lpFormIntegration.js                 â”‚
    â”‚ (Helper Functions)                  â”‚
    â”‚                                     â”‚
    â”‚  convertFormToStoreFormat() â†â”€â”€â”€â”€â”  â”‚
    â”‚  generateLPId()                  â”‚  â”‚
    â”‚  generateLPNomor()               â”‚  â”‚
    â”‚  saveLPToLocalStorage() â†â”€â”€â”€â”€â”   â”‚  â”‚
    â”‚  detectJenis()               â”‚   â”‚  â”‚
    â”‚  ... 15+ more functions      â”‚   â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜
                   â”‚                â”‚
                   â†“                â†“
         localStorage[]    Pinia Store
         (Persistence)   (State Mgmt)
              â”‚               â”‚
              â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚   â”‚
              â†“   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LPListView.vue                      â”‚
    â”‚ (LP List Display)                   â”‚
    â”‚ [Existing Component]                â”‚
    â”‚                                     â”‚
    â”‚ Can display:                        â”‚
    â”‚  â€¢ Old LP format                    â”‚
    â”‚  â€¢ New table-based LP               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ use
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LPTableFormCard.vue                 â”‚
    â”‚ (LP Card Display)                   â”‚
    â”‚                                     â”‚
    â”‚ Props: :lp                          â”‚
    â”‚ Events:                             â”‚
    â”‚  @view  (show detail)               â”‚
    â”‚  @edit  (edit draft)                â”‚
    â”‚  @submit  (start process)           â”‚
    â”‚  @delete  (delete LP)               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI COMPONENTS

### Form Layout:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ Lembar Permintaan (LP)                          â”‚
â”‚ LP ID: LP-1707... â”‚ Status: âœ“ Draft                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚ ğŸ“ Informasi Permintaan                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Unit        â”‚ Tanggal      â”‚ NIP             â”‚   â”‚
â”‚ â”‚ [Dropdown ] â”‚ [2026-02-07] â”‚ [19780510...] â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ Deskripsi: [Upgrade network infrastructure...]     â”‚
â”‚                                                     â”‚
â”‚ ğŸ“¦ Items                                            â”‚
â”‚ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚No â”‚ Deskripsi     â”‚Qtyâ”‚ Unit â”‚Est.Hargaâ”‚ Total â”‚â”‚
â”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ 1 â”‚Network Switch â”‚ 2 â”‚ Unit â”‚8.500.000â”‚17.000kâ”‚â”‚
â”‚ â”‚ 2 â”‚Kabel Cat 6A   â”‚ 5 â”‚ Roll â”‚1.500.000â”‚ 7.500kâ”‚â”‚
â”‚ â”‚ 3 â”‚UPS 10KVA      â”‚ 1 â”‚ Unit â”‚45.000.00â”‚45.000kâ”‚â”‚
â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [+ Tambah Item] [ğŸ—‘ï¸ Delete]                        â”‚
â”‚                                                     â”‚
â”‚ ğŸ’° Ringkasan Budget                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚Tier 1: 11 JT â”‚Tier 2: 17 JT â”‚Tier 3: 45 JTâ”‚     â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚ â”‚         Grand Total: 73 JT                â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                     â”‚
â”‚ ğŸ“Š Info Items                                       â”‚
â”‚ Total: 3 items â”‚ T1: 1 â”‚ T2: 1 â”‚ T3: 1            â”‚
â”‚                                                     â”‚
â”‚ [â† Kembali] [ğŸ’¾ Simpan Draft] [âœ“ Ajukan LP]       â”‚
â”‚                                                     â”‚
â”‚ âš ï¸ Errors (if any):                                â”‚
â”‚ â€¢ Field X must be filled                           â”‚
â”‚ â€¢ Item 1: Price must be > 0                        â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Card Layout:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LP/2026/02/0147                   Diajukan â”‚
â”‚ Fakultas Teknik                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Nilai: 69.5 JT â”‚ Tier: TIER3 â”‚ 3 Items  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Upgrade network infrastructure...          â”‚
â”‚                                            â”‚
â”‚ Items:                                     â”‚
â”‚ â€¢ 2 Unit Network Switch                   â”‚
â”‚ â€¢ 5 Roll Kabel Cat 6A                     â”‚
â”‚ +1 item lainnya                           â”‚
â”‚                                            â”‚
â”‚ Tier 1: 7.5 JT  â”‚ Tier 2: 17 JT  â”‚ Tier 3: 45 JT â”‚
â”‚                                            â”‚
â”‚ [ğŸ‘ï¸ Lihat] [âœï¸ Edit] [âœ“ Lanjut] [ğŸ—‘ï¸ Hapus]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Responsive Breakpoints

```
Desktop (> 1024px)
â”œâ”€ Full form width
â”œâ”€ Table horizontal (no scroll)
â”œâ”€ 4-column budget cards
â””â”€ 4-column metrics

Tablet (768-1024px)
â”œâ”€ Adjusted padding
â”œâ”€ Table with scroll on mobile
â”œâ”€ 2-column budget cards
â””â”€ 2-column metrics

Mobile (< 768px)
â”œâ”€ Full-width form
â”œâ”€ Table scrolls horizontally
â”œâ”€ 1-column budget cards (stack)
â”œâ”€ 2-column metrics
â””â”€ Full-width buttons
```

---

## ğŸ”— Integration Points

```
External Dependencies:
â”œâ”€ Vue 3 Router
â”‚  â””â”€ router.push() for navigation
â”œâ”€ Pinia Store
â”‚  â””â”€ useLembarPermintaanStore
â”œâ”€ localStorage API
â”‚  â””â”€ Native browser storage
â””â”€ CSS (Tailwind-style)
   â””â”€ Scoped component styles

Internal Dependencies:
â”œâ”€ lpFormIntegration.js
â”‚  â”œâ”€ Helper functions
â”‚  â””â”€ Data conversion
â”œâ”€ LembarPermintaanFormView.vue
â”‚  â”œâ”€ Form logic
â”‚  â””â”€ Submission
â””â”€ LPTableFormCard.vue
   â”œâ”€ Display logic
   â””â”€ Event handlers
```

---

**This architecture supports:**
âœ… Current functionality  
âœ… Future scaling  
âœ… Backend integration  
âœ… Multi-user support  
âœ… Offline capability (localStorage)  
âœ… Real-time sync (Pinia)
